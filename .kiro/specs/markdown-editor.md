# マークダウンエディタ仕様書

## 概要
２カラムレイアウトのマークダウンエディタを開発する。左側に入力欄、右側にプレビューを表示し、ルートパス（/）でアクセス可能。ログイン機能やデータ永続化は不要。

## 機能要件

### コア機能
- **２カラムレイアウト**: 左側：マークダウン入力欄、右側：プレビュー
- **リアルタイムプレビュー**: 入力内容をリアルタイムでHTMLに変換して表示
- **ルートパスアクセス**: `/` でエディタに直接アクセス可能
- **ログイン不要**: 認証・ユーザー管理機能なし
- **永続化不要**: データベースやローカルストレージへの保存機能なし

### UI/UX要件
- レスポンシブデザイン（デスクトップ優先）
- 入力欄とプレビューの同期スクロール（オプション）
- マークダウン記法のシンタックスハイライト（オプション）
- プレビューでのコードブロックシンタックスハイライト

### 技術要件
- **フレームワーク**: Next.js 15.3.3 (App Router)
- **言語**: TypeScript
- **スタイリング**: CSS/CSS Modules/Tailwind CSS（選択）
- **マークダウンパーサー**: markdown-it、remark、marked等（選択）

## 非機能要件
- パフォーマンス: 大きなドキュメント（10,000文字程度）でも快適な動作
- ブラウザ対応: Chrome、Firefox、Safari、Edge最新版
- アクセシビリティ: キーボード操作対応

## 制約事項
- データ永続化なし（セッション間でのデータ保持なし）
- ユーザー認証なし
- ファイルアップロード機能なし（画像等）
- 印刷機能なし（初期実装では）

## 開発環境
- **Node.js**: 現在の環境に準拠
- **パッケージマネージャー**: pnpm
- **テスト**: Vitest
- **Linter**: Biome
- **型チェック**: TypeScript

## プロジェクト構成
```
src/
├── app/
│   ├── page.tsx                    # メインエディタページ（ルートパス）
│   ├── layout.tsx                  # レイアウト
│   └── globals.css                 # グローバルスタイル
├── features/
│   └── markdown-editor/            # マークダウンエディタ機能
│       ├── presentational/         # プレゼンテーショナルコンポーネント
│       │   ├── MarkdownInput/      # 入力欄コンポーネント
│       │   │   ├── index.tsx
│       │   │   └── MarkdownInput.stories.tsx
│       │   ├── MarkdownPreview/    # プレビューコンポーネント
│       │   │   ├── index.tsx
│       │   │   └── MarkdownPreview.stories.tsx
│       │   └── MarkdownEditor/     # メインエディタコンポーネント
│       │       ├── index.tsx
│       │       └── MarkdownEditor.stories.tsx
│       ├── containers/             # コンテナコンポーネント
│       │   └── MarkdownEditorContainer/
│       │       ├── index.tsx
│       │       └── useMarkdownEditor.ts
│       ├── hooks/                  # マークダウンエディタ固有のフック
│       │   └── useMarkdownSync.ts  # リアルタイム同期フック
│       ├── types/                  # 型定義
│       │   └── markdown.ts
│       ├── lib/                    # マークダウン変換ライブラリ
│       │   └── parser.ts           # マークダウンパーサー設定
│       └── utils/                  # ユーティリティ関数
│           ├── markdown.ts         # マークダウン変換ユーティリティ
│           └── syntax-highlight.ts # シンタックスハイライト
├── components/                     # 共有コンポーネント
│   └── presentational/            # 共通プレゼンテーショナルコンポーネント
└── lib/                           # アプリ全体のライブラリ設定
    └── markdown/                  # マークダウン関連の共通設定
```

## 実装フェーズ
1. **Phase 1**: 基本的な２カラムレイアウトとマークダウンプレビュー
2. **Phase 2**: スタイリング改善とレスポンシブ対応
3. **Phase 3**: UX改善（シンタックスハイライト、スクロール同期等）

## 成功基準
- ルートパス（/）でマークダウンエディタが表示される
- 左側の入力欄にマークダウンを入力すると右側にHTMLプレビューが表示される
- レスポンシブデザインでモバイルでも使用可能
- TypeScriptエラーなし、Lintエラーなし
- テストが通る（基本的なレンダリングテスト）

## 参考仕様
- GitHub Flavored Markdown対応
- 一般的なマークダウンエディタのUXを参考（Typora、Mark Text等）

---

**作成日**: 2025-09-20  
**仕様書バージョン**: 1.0  
**ステータス**: 初期作成